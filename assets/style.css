/* 重點指標六角形卡片樣式 */
.key-metric-hexagon {
    position: relative;
    width: 150px;
    height: 150px;
    margin: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.key-metric-hexagon::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    clip-path: polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%);
    background: linear-gradient(135deg, #ecbc4f 0%, #8f1511 100%);
    z-index: 1;
}

.key-metric-hexagon::after {
    content: '';
    position: absolute;
    top: 4px;
    left: 4px;
    width: calc(100% - 8px);
    height: calc(100% - 8px);
    clip-path: polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%);
    background: #181818;
    z-index: 2;
}

.key-metric-content {
    position: relative;
    z-index: 3;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 1rem;
}

/* 字體層級調整，顏色維持原主題色設計 */

/* 1. 區塊主標題（控制面板、權益曲線圖、績效指標） */
h5, .section-title {
    font-size: 2.1rem;
    font-weight: bold;
    color: #ecbc4f !important;  /* 改為主題金色 */
    margin-top: 1.2rem;
    margin-bottom: 0.8rem;
    background: transparent !important;
}

/* 2. 入場/出場指標類型 label 及選項 */
.form-label, label.form-label {
    font-size: 1.35rem;
    font-weight: bold;
    color: #ecbc4f !important;
}
.form-check-label {
    font-size: 1.18rem;
    color: #ecbc4f !important;
}

/* 其餘內容維持原主題色設計 */
body { background: #181818 !important; color: #f5f5f5 !important; }
.navbar, .navbar-dark { background: #181818 !important; }
.navbar-brand, .main-title { font-size: 2.2rem; font-weight: bold; color: #ecbc4f !important; letter-spacing: 1px; }
.table, .table-sm, .table-bordered { background: #232323 !important; color: #f5f5f5 !important; }
.table th { background: #dbac30 !important; color: #8f1511 !important; }
.table td { background: #232323 !important; color: #f5f5f5 !important; }
.btn, .btn-secondary, .btn-outline-secondary { background: #8f1511 !important; color: #f5f5f5 !important; border: none; }
.btn:hover, .btn:focus { background: #ecbc4f !important; color: #181818 !important; border: 1.5px solid #8f1511 !important; }
.card, .border, .rounded { background: #232323 !important; color: #f5f5f5 !important; border: 1.5px solid #8f1511 !important; }
/* 控制面板卡片樣式 - 金色邊框 */
.card, .border, .rounded {
    background: #232323 !important;
    color: #f5f5f5 !important;
    border: 1.5px solid #dbac30 !important;
}
.mb-3, .mb-4, .p-3 { background: #232323 !important; }
.mb-3:not(h5), .mb-4:not(h5), .p-3:not(h5) { background: #232323 !important; }

/* 確保 h5 標題不受 mb-3, mb-4, p-3 類影響 */
h5.mb-3, h5.mb-4, h5.p-3 {
    background: transparent !important;
    background-color: transparent !important;
}
.form-check-input:checked { background-color: #8f1511 !important; border-color: #ecbc4f !important; }
.form-check-input:focus { box-shadow: 0 0 0 0.2rem #ecbc4f55 !important; }
.dash-table-container .dash-spreadsheet-container { background: #232323 !important; }
.dash-table-container .dash-spreadsheet-inner { background: #232323 !important; }
.dash-table-container .dash-spreadsheet-container th { background: #8f1511 !important; color: #ecbc4f !important; }
.dash-table-container .dash-spreadsheet-container td { background: #232323 !important; color: #f5f5f5 !important; }
.dash-graph .js-plotly-plot .plotly { background: #181818 !important; }

/* 新增：Details 與 Performance 區塊背景改為黑底 */
.details-block, .performance-block, .performance-table, .details-table, .performance, .details {
    background: #232323 !important;
    color: #f5f5f5 !important;
    border-radius: 6px;
    padding: 0.5rem 1.2rem;
}

/* Details 表格留白欄優化 */
.details-table th,
.performance-table th {
    background: #dbac30 !important;
    color: #8f1511 !important;
    font-weight: bold;
    padding: 0.75rem 1rem !important;  /* 增加留白 */
    border-right: 2px solid #8f1511 !important;  /* 分隔線 */
}

.details-table td,
.performance-table td {
    background: #232323 !important;
    color: #f5f5f5 !important;
    padding: 0.75rem 1rem !important;  /* 增加留白 */
}

/* 圖表區域使用透明背景，直接顯示黑色背景 */
.dash-graph, .js-plotly-plot, .plotly {
    background: #181818 !important;
}

/* 確保圖表容器也是透明背景 */
.dash-graph .js-plotly-plot .plotly {
    background: #181818 !important;
}

/* 移除圖表容器的多餘留白 */
#equity_chart {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
}

.dash-graph {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
}

/* 確保圖表容器高度固定 */
#equity_chart .js-plotly-plot {
    height: 700px !important;
}

/* Details 與 Performance 區塊內的表格樣式 */
.details .table th, .performance .table th,
.details-block .table th, .performance-block .table th,
.details-table .table th, .performance-table .table th {
    background: #dbac30 !important;
    color: #8f1511 !important;
    font-weight: bold;
}

.details .table-sm th, .performance .table-sm th,
.details-block .table-sm th, .performance-block .table-sm th,
.details-table .table-sm th, .performance-table .table-sm th {
    background: #dbac30 !important;
    color: #8f1511 !important;
    font-weight: bold;
}

.details .table-bordered th, .performance .table-bordered th,
.details-block .table-bordered th, .performance-block .table-bordered th,
.details-table .table-bordered th, .performance-table .table-bordered th {
    background: #dbac30 !important;
    color: #8f1511 !important;
    font-weight: bold;
}

.details .table td, .performance .table td,
.details-block .table td, .performance-block .table td,
.details-table .table td, .performance-table .table td {
    background: #232323 !important;
    color: #f5f5f5 !important;
}

.details .table, .performance .table,
.details-block .table, .performance-block .table,
.details-table .table, .performance-table .table {
    background: #232323 !important;
    color: #f5f5f5 !important;
    border: 1px solid #dbac30 !important;
}

/* Dash dropdown (react-select) 主題色修正 */
.Select-control, .Select-menu-outer, .Select-option, .Select-placeholder, .Select-value {
    background: #181818 !important;
    color: #ffffff !important;  /* 選項文字改為白色 */
    border: 1.5px solid #8f1511 !important;
}
.Select-option.is-focused, .Select-option.is-selected {
    background: #8f1511 !important;
    color: #ffffff !important;  /* 選中選項文字改為白色 */
}
.Select-menu-outer {
    background: #181818 !important;
    color: #ffffff !important;  /* 選單文字改為白色 */
    border: 1.5px solid #8f1511 !important;
}

.Select__single-value, .Select-value-label, .Select-option.is-selected {
    color: #ffffff !important;  /* 選中值文字改為白色 */
}

/* 參數高原控制面板滑動條樣式 */
.slider-enabled {
    opacity: 1 !important;
}

.slider-disabled {
    opacity: 0.3 !important;
    filter: grayscale(50%) !important;
}

/* 強制啟用滑動條的樣式 */
.slider-enabled .dash-slider {
    opacity: 1 !important;
    pointer-events: auto !important;
}

.slider-enabled .dash-slider .rc-slider {
    opacity: 1 !important;
    pointer-events: auto !important;
}

.slider-enabled .dash-slider .rc-slider-track {
    background-color: #1890ff !important;
    cursor: pointer !important;
}

.slider-enabled .dash-slider .rc-slider-handle {
    background-color: #1890ff !important;
    border-color: #1890ff !important;
    cursor: grab !important;
}

.slider-enabled .dash-slider .rc-slider-rail {
    background-color: #d9d9d9 !important;
}

/* 禁用狀態下滑動條的顏色調整 - 使用更精確的選擇器 */
.slider-disabled .dash-slider .rc-slider-track {
    background-color: #666 !important;
}

.slider-disabled .dash-slider .rc-slider-handle {
    background-color: #999 !important;
    border-color: #666 !important;
}

/* 針對 Dash Slider 組件的特定樣式 */
.slider-disabled .dash-slider {
    opacity: 0.3 !important;
}

.slider-disabled .dash-slider .rc-slider {
    opacity: 0.3 !important;
}

/* 確保禁用狀態下的滑動條軌道變暗 */
.slider-disabled .dash-slider .rc-slider-rail {
    background-color: #444 !important;
}

/* 更精確的選擇器，針對 Dash 的內部結構 */
.slider-disabled .dash-slider .rc-slider .rc-slider-track {
    background-color: #666 !important;
}

.slider-disabled .dash-slider .rc-slider .rc-slider-handle {
    background-color: #999 !important;
    border-color: #666 !important;
    cursor: not-allowed !important;
}

.slider-disabled .dash-slider .rc-slider .rc-slider-rail {
    background-color: #444 !important;
}

/* 針對 Dash 的特定樣式覆蓋 */
.slider-disabled .dash-slider .rc-slider .rc-slider-track {
    background-color: #666 !important;
}

.slider-disabled .dash-slider .rc-slider .rc-slider-handle {
    background-color: #999 !important;
    border-color: #666 !important;
    cursor: not-allowed !important;
}

.slider-disabled .dash-slider .rc-slider .rc-slider-rail {
    background-color: #444 !important;
}



/* 標題和軸標籤不使用外框 */
.js-plotly-plot .gtitle text,
.plotly .gtitle text,
.js-plotly-plot .g-gtitle text,
.plotly .g-gtitle text,
.js-plotly-plot .axis text,
.plotly .axis text,
.js-plotly-plot .g-xtick text,
.plotly .g-xtick text,
.js-plotly-plot .g-ytick text,
.plotly .g-ytick text {
    stroke: none !important;
    stroke-width: 0 !important;
}

/* 顏色條（指示棒）不使用外框 */
.js-plotly-plot .colorbar text,
.plotly .colorbar text,
.js-plotly-plot .g-colorbar text,
.plotly .g-colorbar text {
    stroke: none !important;
    stroke-width: 0 !important;
}
